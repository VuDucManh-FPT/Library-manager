
<!doctype html>
<html lang="en" class="theme-fs-sm" data-bs-theme-color="default" dir="ltr"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title data-setting="app_name" data-rightJoin=" Book store management system">Booksto Book store management
        system</title>
    <meta name="description"
        content="Booksto">
    <meta name="keywords"
        content="premium, admin, dashboard, template, bootstrap 5, clean ui, Booksto, admin dashboard,responsive dashboard, optimized dashboard,">
    <meta name="author" content="Iqonic Design">
    <meta name="DC.title" content="Booksto Book store management system">

    <script>
        (function () {
            const savedTheme = sessionStorage.getItem('booksto');

            if (savedTheme) {
                const settings = JSON.parse(savedTheme);
                const themeScheme = settings.setting.theme_scheme.value;
                document.documentElement.setAttribute('data-bs-theme', themeScheme);
            }
        })();
    </script>

    <meta name="setting_options" content='{&quot;saveLocal&quot;:&quot;sessionStorage&quot;,&quot;storeKey&quot;:&quot;booksto&quot;,&quot;setting&quot;:{&quot;app_name&quot;:{&quot;value&quot;:&quot;Booksto&quot;},&quot;theme_scheme_direction&quot;:{&quot;value&quot;:&quot;ltr&quot;},&quot;theme_scheme&quot;:{&quot;value&quot;:&quot;light&quot;},&quot;theme_style_appearance&quot;:{&quot;value&quot;:[&quot;theme-default&quot;]},&quot;theme_color&quot;:{&quot;value&quot;:&quot;default&quot;},&quot;theme_transition&quot;:{&quot;value&quot;:&quot;theme-with-animation&quot;},&quot;theme_font_size&quot;:{&quot;value&quot;:&quot;theme-fs-md&quot;},&quot;page_layout&quot;:{&quot;value&quot;:&quot;container-fluid&quot;},&quot;header_navbar&quot;:{&quot;value&quot;:&quot;default&quot;},&quot;header_banner&quot;:{&quot;value&quot;:&quot;default&quot;},&quot;sidebar_color&quot;:{&quot;value&quot;:&quot;sidebar-white&quot;},&quot;card_color&quot;:{&quot;value&quot;:&quot;card-default&quot;},&quot;sidebar_type&quot;:{&quot;value&quot;:[]},&quot;sidebar_menu_style&quot;:{&quot;value&quot;:&quot;text-hover&quot;},&quot;footer&quot;:{&quot;value&quot;:&quot;default&quot;},&quot;body_font_family&quot;:{&quot;value&quot;:null},&quot;heading_font_family&quot;:{&quot;value&quot;:null}}}'>
    <!-- Google Font Api KEY-->
    <meta name="google_font_api" content="AIzaSyBG58yNdAjc20_8jAvLNSVi9E4Xhwjau_k">
    <!-- Favicon -->
    <link rel="shortcut icon" href="../../static/BookSto/assets/images/logo-mini.png" />
    
    <!-- Library / Plugin Css Build -->
    <link rel="stylesheet" href="../../static/BookSto/assets/css/core/libs.min.css" />
    
    <!-- flaticon css -->
    <link rel="stylesheet" href="../../static/BookSto/assets/vendor/flaticon/css/flaticon.css" />
    
    <!-- font-awesome css -->
    <link rel="stylesheet" href="../../static/BookSto/assets/vendor/font-awesome/css/font-awesome.min.css" />

    <!-- Sweetlaert2 css -->
    <link rel="stylesheet" href="../../static/BookSto/assets/vendor/sweetalert2/dist/sweetalert2.min.css">
    
    
    <!-- booksto Design System Css -->
    <link rel="stylesheet" href="../../static/BookSto/assets/css/booksto.min5438.css?v=1.2.0" />
    
    <!-- Custom Css -->
    <link rel="stylesheet" href="../../static/BookSto/assets/css/custom.min5438.css?v=1.2.0" />
    
    <!-- RTL Css -->
    <link rel="stylesheet" href="../../static/BookSto/assets/css/rtl.min5438.css?v=1.2.0" />
    
    <!-- Customizer Css -->
    <link rel="stylesheet" href="../../static/BookSto/assets/css/customizer.min5438.css?v=1.2.0" />
    
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;600;700;800&amp;display=swap"
        rel="stylesheet">
    
    
    <link rel="stylesheet" href="../../static/BookSto/assets/vendor/remixicon/fonts/remixicon.css" />
    
    <link rel="stylesheet" href="../../static/BookSto/assets/vendor/dripicons/webfont/webfont.css" />
    
    <link rel="stylesheet" href="../../static/BookSto/assets/vendor/ionicons/css/ionicons.min.css" />
    
    <link rel="stylesheet" href="../../static/BookSto/assets/vendor/line-awesome/css/line-awesome.min.css" />
    
    <!-- Phosphor icons  -->
    <link rel="stylesheet" href="../../static/BookSto/assets/vendor/phosphor-icons/Fonts/regular/style.css"></link>
    <link rel="stylesheet" href="../../static/BookSto/assets/vendor/phosphor-icons/Fonts/duotone/style.css"></link>
    <link rel="stylesheet" href="../../static/BookSto/assets/vendor/phosphor-icons/Fonts/fill/style.css"></link>
    <style>
        /* Style cho hộp thoại tùy chỉnh */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5); /* Màu nền mờ */
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
        }
        .custom-confirm {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }
    </style>
</head>

<body class="  ">
<!-- loader Start -->
<div id="loading">
    <div class="loader simple-loader">
        <div class="loader-body">
            <img src="../../static/BookSto/assets/images/loader.gif" alt="loader" class="light-loader img-fluid " width="200">
        </div>
    </div>    </div>
<!-- loader END -->
<aside class="sidebar sidebar-base " id="first-tour" data-toggle="main-sidebar"
       data-sidebar="responsive">
    <div th:insert="fragments/sidebarAdmin :: sidebarAdmin"></div>


</aside>
<main class="main-content">
        <div class="position-sticky top-0 z-3">
    <!--Nav Start-->
            <div th:insert="fragments/navbarAdmin :: navbarAdmin"></div>
            <!--Nav End-->
</div>
        <div class="content-inner container-fluid pb-0" id="page_layout">

<div class="row ">
    <div class="col-sm-12">
        <div class="card">
            <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
            <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>
            <div class="card-header d-flex justify-content-between">
                <div class="header-title">
                    <h4 class="card-title">Student List</h4>
                </div>
                <div class="d-flex gap-2 p-3">
                    <a class="btn btn-primary" th:href="@{/admin/student/register}" role="button">Add</a>
                </div>
            </div>
            <div class="card-body">
                <div class="custom-table-effect table-responsive custom-table-search user-table">
                    <table class=" mb-0 table table-bordered" id="datatable" data-toggle="data-table1">
                        <thead class="">
                        <tr class="bg-white">
                            <th scope="col" class="border-bottom bg-primary text-white">Profile</th>
                            <th scope="col" class="border-bottom bg-primary text-white">Name </th>
                            <th scope="col" class="border-bottom bg-primary text-white">Contact</th>
                            <th scope="col" class="border-bottom bg-primary text-white">Email</th>
                            <th scope="col" class="border-bottom bg-primary text-white">IsActive</th>
                            <th scope="col" class="border-bottom bg-primary text-white">Ban</th>
                            <th scope="col" class="border-bottom bg-primary text-white">Action</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="student : ${students}">
                            <td><img th:src="@{'/static/BookSto/assets/images/avatars/' + ${student.avatar}}"
                                     class="rounded img-fluid avatar-40" alt=""></td>
                            <td th:text="${student.studentName}"></td>
                            <td th:text="${student.phoneNumber}"></td>
                            <td th:text="${student.studentEmail}"></td>
<!--                             Checkbox cho trạng thái Active-->
                            <td>
                                <input type="checkbox" id="activeSwitch_${student.id}" class="checkboxs"
                                       th:checked="${student.active == true}"
                                       data-student-id="${student.id}"
                                       disabled>
                                <label for="activeSwitch_${student.id}" class="toggles text-white bg-primary border-primary">
                                    <p class="texts ps-1">
                                        &nbsp;&nbsp;
                                    </p>
                                </label>
                            </td>
                            <td>
                                <input type="checkbox" id="banSwitch_${student.id}" class="checkboxs"
                                       th:checked="${student.isban == true}"
                                       data-student-id="${student.id}"
                                       disabled>
                                <label for="banSwitch_${student.id}" class="toggles text-white bg-primary border-primary">
                                    <p class="texts ps-1">
                                        &nbsp;&nbsp;
                                    </p>
                                </label>
                            </td>
                            <td>
                                <div class="d-flex gap-2 align-items-center">
                                    <a class="btn btn-warning-subtle px-1 py-1 rounded d-flex"
                                       data-toggle="tooltip" data-placement="top" title="Edit"
                                       th:href="@{/admin/student/update/{id}(id=${student.studentId})}">
                                        <i class="ph ph-pencil-simple"></i>
                                    </a>
                                    <a class="btn btn-danger-subtle px-1 py-1 rounded d-flex"
                                       data-toggle="tooltip" data-placement="top" title="Ban" th:href="@{/admin/student/ban/{id}(id=${student.studentId})}"
                                       onclick="return confirm('Are you sure you want to ban this student member?');">
                                                                                <i class="ion ion-close-circled"></i>
                                    </a>
                                    <a class="btn btn-danger-subtle px-1 py-1 rounded d-flex"
                                       data-toggle="tooltip" data-placement="top" title="Delete" th:href="@{/admin/student/delete/{id}(id=${student.studentId})}"
                                       onclick="return doubleConfirmBan(this.href);">
                                        <i class="ph ph-trash"></i>
                                    </a>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>




        </div>
        <!-- Footer Section Start -->
        <footer class="footer">
          <div class="footer-body">
            <ul class="left-panel list-inline mb-0 p-0">
              <li class="list-inline-item fw-500"><a class="footer-link" href="../extra-pages/privacy-policy.html">Privacy
                  Policy</a></li>
              <li class="list-inline-item fw-500"><a class="footer-link" href="../extra-pages/terms-of-service.html">Terms
                  of Use</a></li>
            </ul>

          </div>
        </footer>
        <!-- Footer Section End -->    </main>

    <!-- Wrapper End-->
    <!-- Library Bundle Script -->
    <script src="../../static/BookSto/assets/js/core/libs.min.js"></script>
    <!-- Plugin Scripts -->

    <!-- Slider-tab Script -->
    <script src="../../static/BookSto/assets/js/plugins/slider-tabs.js"></script>

    <!-- Sweet-alert Script -->
    <script src="../../static/BookSto/assets/vendor/sweetalert2/dist/sweetalert2.min.js" async></script>
    <script src="../../static/BookSto/assets/js/plugins/sweet-alert.js" defer></script>

    <!-- Lodash Utility -->
    <script src="../../static/BookSto/assets/vendor/lodash/lodash.min.js"></script>
    <!-- Utilities Functions -->
    <script src="../../static/BookSto/assets/js/iqonic-script/utility.min.js"></script>
    <!-- Settings Script -->
    <script src="../../static/BookSto/assets/js/iqonic-script/setting.min.js"></script>
    <!-- Settings Init Script -->
    <script src="../../static/BookSto/assets/js/setting-init.js"></script>
    <!-- External Library Bundle Script -->
    <script src="../../static/BookSto/assets/js/core/external.min.js"></script>
    <!-- Dashboard Script -->
    <script src="../../static/BookSto/assets/js/Charts/dashboard.js" defer></script>

    <!-- All Plugins Script -->

    <!-- Sweet-alert Script -->
    <script src="../../static/BookSto/assets/vendor/sweetalert2/dist/sweetalert2.min.js" async></script>
    <script src="../../static/BookSto/assets/js/plugins/sweet-alert.js" defer></script>

    <!-- All charts Script -->

    <script src="../../static/BookSto/assets/js/vertical_slider.js" defer></script>

    <!-- Hopeui Script -->
    <script src="../../static/BookSto/assets/js/booksto5438.js?v=1.2.0" defer></script>
    <script src="../../static/BookSto/assets/js/booksto-advance5438.js?v=1.2.0" defer></script>
    
    <script src="../../static/BookSto/assets/js/sidebar5438.js?v=1.2.0" defer></script>

    <script src="../../static/BookSto/assets/js/plugins/select2.js" defer></script>
    <script src="../../static/BookSto/assets/js/Setting/enchanter.js" defer></script>

    <!--morris chart -->
    <script src="../../static/BookSto/cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
    <script src="../../static/BookSto/cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>

    <!--highcharts chart -->
    <script src="../../static/BookSto/code.highcharts.com/highcharts.html"></script>
    <script src="../../static/BookSto/code.highcharts.com/highcharts-more.html"></script>
    <script src="../../static/BookSto/code.highcharts.com/modules/exporting.html"></script>

    <!--Am chart -->
    <script src="../../static/BookSto/cdn.amcharts.com/lib/4/core.js"></script>
    <script src="../../static/BookSto/cdn.amcharts.com/lib/4/charts.js"></script>
    <script src="../../static/BookSto/cdn.amcharts.com/lib/4/themes/animated.js"></script>
    
    <!--Widget Chart -->

<script>
    function doubleConfirmBan(url) {
        // Tạo lớp phủ overlay và hộp thoại đầu tiên
        let overlay = document.createElement('div');
        overlay.classList.add('overlay');

        let customConfirm1 = document.createElement('div');
        customConfirm1.classList.add('custom-confirm');
        customConfirm1.innerHTML = `
        <p>Are you sure you want to ban this staff member?</p>
        <button onclick="confirmFirstStep('${url}')" class="btn btn-primary">Yes</button>
        <button onclick="cancelAction()" class="btn btn-danger">No</button>
    `;

        overlay.appendChild(customConfirm1);
        document.body.appendChild(overlay);

        return false; // Ngăn chặn sự kiện ban đầu
    }

    function confirmFirstStep(url) {
        document.querySelector('.overlay .custom-confirm').remove();

        let customConfirm2 = document.createElement('div');
        customConfirm2.classList.add('custom-confirm');
        customConfirm2.innerHTML = `
        <p>Are you absolutely sure?</p>
        <button onclick="cancelAction()" class="btn btn-danger">No</button>
        <button onclick="confirmFinalAction('${url}')" class="btn btn-primary">Yes</button>
    `;
        document.querySelector('.overlay').appendChild(customConfirm2);
    }

    function confirmFinalAction(url) {
        document.querySelector('.overlay').remove();
        window.location.href = url;
    }

    function cancelAction() {
        document.querySelector('.overlay').remove();
    }

</script></body>


<!-- Mirrored from templates.iqonic.design/booksto-dist/html/admin/books.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 08 Oct 2024 05:28:00 GMT -->
</html>